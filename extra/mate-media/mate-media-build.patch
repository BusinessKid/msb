--- configure.ac.orig   2013-11-03 20:13:23.140450797 +0700
+++ configure.ac        2013-11-03 20:14:34.055710980 +0700
@@ -45,9 +45,6 @@
 AC_PROG_GCC_TRADITIONAL
 AC_FUNC_MMAP
 
-# CFLAGS
-MATE_COMPILE_WARNINGS
-
 # AS_NANO(GM_RELEASE="yes", GM_RELEASE="no")
 AS_COMPILER_FLAG(-Wall, GM_ERROR_CFLAGS="-Wall")
 
@@ -260,6 +257,21 @@
 MATE_COMPILE_WARNINGS([maximum])
 MATE_CXX_WARNINGS
 
+AC_ARG_ENABLE(deprecated,
+ [AS_HELP_STRING([--enable-deprecated],
+ [warn about deprecated usages [default=no]])],,
+ [enable_deprecated=no])
+
+if test "x$enable_deprecated" = "xyes"; then
+ DISABLE_DEPRECATED="\
+ -DMATE_DISABLE_DEPRECATED \
+ -DGDK_PIXBUF_DISABLE_DEPRECATED \
+ -DGTK_DISABLE_DEPRECATED \
+ -DGDK_DISABLE_DEPRECATED"
+ AC_SUBST(DISABLE_DEPRECATED)
+fi
+
+
 # Turn on the additional warnings last, so warnings don't affect other tests.
 AC_ARG_ENABLE(more-warnings,
         [AC_HELP_STRING([--enable-more-warnings],
+++ Makefile.am	2013-11-03 20:15:53.073902725 +0700
@@ -21,7 +21,8 @@
 DISTCHECK_CONFIGURE_FLAGS = \
 	--disable-scrollkeeper	\
 	--enable-more-warnings  \
-	--enable-compile-warnings=maximum
+	--enable-compile-warnings=maximum \
+	--enable-deprecated 
 
 DIST_SUBDIRS = \
 	po 			\
